# Ktor Application Configuration
ktor {
    # Server Configuration
    deployment {
        port = 8080
        port = ${?PORT}
        
        # Development vs Production
        environment = development
        environment = ${?KTOR_ENV}
        
        # Auto-reload for development
        watch = [ classes, resources ]
    }
    
    # Application Configuration
    application {
        # Application modules to load
        modules = [ com.github.nanachi357.ApplicationKt.module ]
    }
    
    # Development Features
    development = true
    development = ${?DEVELOPMENT}
}

# Bybit API Configuration
bybit {
    # API Base URLs
    api {
        baseUrl = "https://api.bybit.com"
        testnetUrl = "https://api-testnet.bybit.com"
        
        # Use testnet for development
        useTestnet = true
        useTestnet = ${?BYBIT_USE_TESTNET}
    }
    
    # Authentication Configuration
    authentication {
        # API credentials (use environment variables in production)
        apiKey = ${?BYBIT_API_KEY}
        secretKey = ${?BYBIT_SECRET_KEY}
        
        # Authentication settings
        recvWindow = 5000
        maxRetries = 3
        retryDelayMs = 1000
    }
    
    # Rate Limiting
    rateLimit {
        requestsPerSecond = 10
        burstSize = 20
    }
    
    # Timeout Settings
    timeout {
        connect = 5000
        read = 10000
        write = 10000
    }
}

# Database Configuration (for later phases)
database {
    # Connection settings will be added in Phase 3
    # url = "jdbc:mysql://localhost:3306/bybit_platform"
    # driver = "com.mysql.cj.jdbc.Driver"
}

# Redis Configuration (for later phases)  
redis {
    # Redis settings will be added in Phase 4
    # host = "localhost"
    # port = 6379
}

# Kafka Configuration (for later phases)
kafka {
    # Kafka settings will be added in Phase 5
    # bootstrap.servers = "localhost:9092"
}